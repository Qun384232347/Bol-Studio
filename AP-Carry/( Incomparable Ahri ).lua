--[[


 -- Incomparable Ahri v0.5
 -- Only SocooL
 -- 更多分享Q群:384232347
 -- by B1nk


--]]

assert(load(Base64Decode("bG9jYWwgdmVyc2lvbiA9ICIwLjUiDQoNCmlmIG15SGVyby5jaGFyTmFtZSB+PSAiQWhyaSIgdGhlbiByZXR1cm4gZW5kDQoNCkhXSUQgPSBCYXNlNjRFbmNvZGUodG9zdHJpbmcob3MuZ2V0ZW52KCJQUk9DRVNTT1JfSURFTlRJRklFUiIpLi5vcy5nZXRlbnYoIlVTRVJOQU1FIikuLm9zLmdldGVudigiQ09NUFVURVJOQU1FIikuLm9zLmdldGVudigiUFJPQ0VTU09SX0xFVkVMIikuLm9zLmdldGVudigiUFJPQ0VTU09SX1JFVklTSU9OIikpKQ0KaWQgPSA0NA0KU2NyaXB0TmFtZSA9ICJJbmNvbXBhcmFibGVBaHJpIg0KDQphc3NlcnQobG9hZChCYXNlNjREZWNvZGUoIkcweDFZVklBQVFRRUJBZ0FHWk1OQ2hvS0FBQUFBQUFBQUFBQUFRSURBQUFBSlFBQUFBZ0FBSUFmQUlBQUFRQUFBQVFLQUFBQVZYQmtZWFJsVjJWaUFBRUFBQUFDQUFBQURBQUFBQVFBRVRVQUFBQUdBVUFBUVVFQUFCMkJBQUZHZ1VBQWg4RkFBcDBCZ0FCZGdRQUFqQUhCQWdGQ0FRQkJnZ0VBblVFQUFoc0FBQUFYd0FPQWpNSEJBZ0VDQWdCQUFnQUJnVUlDQU1BQ2dBRUJnd0lBUnNOQ0FFY0R3d2FBQTRBQXdVTURBQUdFQXdCZGd3QUNnY01EQUJhQ0F3U2RRWUFCRjRBRGdJekJ3UUlCQWdRQVFBSUFBWUZDQWdEQUFvQUJBWU1DQUViRFFnQkhBOE1HZ0FPQUFNRkRBd0FCaEFNQVhZTUFBb0hEQXdBV2dnTUVuVUdBQVl3QnhRSUJRZ1VBblFHQkFRZ0Fnb2tJd0FHSkNJQ0JpSXlCeFFLZFFRQUJId0NBQUJjQUFBQUVDQUFBQUhKbGNYVnBjbVVBQkFjQUFBQnpiMk5yWlhRQUJBY0FBQUJoYzNObGNuUUFCQVFBQUFCMFkzQUFCQWdBQUFCamIyNXVaV04wQUFRUUFBQUFZbTlzTFhSeVlXTnJaWEl1WTI5dEFBTUFBQUFBQUFCVVFBUUZBQUFBYzJWdVpBQUVHQUFBQUVkRlZDQXZjbVZ6ZEM5dVpYZHdiR0Y1WlhJL2FXUTlBQVFIQUFBQUptaDNhV1E5QUFRTkFBQUFKbk5qY21sd2RFNWhiV1U5QUFRSEFBQUFjM1J5YVc1bkFBUUZBQUFBWjNOMVlnQUVEUUFBQUZ0ZU1DMDVRUzFhWVMxNlhRQUVBUUFBQUFBRUpRQUFBQ0JJVkZSUUx6RXVNQTBLU0c5emREb2dZbTlzTFhSeVlXTnJaWEl1WTI5dERRb05DZ0FFR3dBQUFFZEZWQ0F2Y21WemRDOWtaV3hsZEdWd2JHRjVaWEkvYVdROUFBUUNBQUFBY3dBRUJ3QUFBSE4wWVhSMWN3QUVDQUFBQUhCaGNuUnBZV3dBQkFnQUFBQnlaV05sYVhabEFBUURBQUFBS21FQUJBWUFBQUJqYkc5elpRQUFBQUFBQVFBQUFBQUFFQUFBQUVCdlltWjFjMk5oZEdWa0xteDFZUUExQUFBQUFnQUFBQUlBQUFBQ0FBQUFBZ0FBQUFJQUFBQUNBQUFBQWdBQUFBTUFBQUFEQUFBQUF3QUFBQU1BQUFBRUFBQUFCQUFBQUFVQUFBQUZBQUFBQlFBQUFBWUFBQUFHQUFBQUJ3QUFBQWNBQUFBSEFBQUFCd0FBQUFjQUFBQUhBQUFBQndBQUFBZ0FBQUFIQUFBQUJRQUFBQWdBQUFBSkFBQUFDUUFBQUFrQUFBQUtBQUFBQ2dBQUFBc0FBQUFMQUFBQUN3QUFBQXNBQUFBTEFBQUFDd0FBQUFzQUFBQU1BQUFBQ3dBQUFBa0FBQUFNQUFBQURBQUFBQXdBQUFBTUFBQUFEQUFBQUF3QUFBQU1BQUFBREFBQUFBd0FBQUFHQUFBQUFnQUFBR0VBQUFBQUFEVUFBQUFDQUFBQVlnQUFBQUFBTlFBQUFBSUFBQUJqQUFBQUFBQTFBQUFBQWdBQUFHUUFBQUFBQURVQUFBQURBQUFBWDJFQUF3QUFBRFVBQUFBREFBQUFZV0VBQndBQUFEVUFBQUFCQUFBQUJRQUFBRjlGVGxZQUFRQUFBQUVBRUFBQUFFQnZZbVoxYzJOaGRHVmtMbXgxWVFBREFBQUFEQUFBQUFJQUFBQU1BQUFBQUFBQUFBRUFBQUFGQUFBQVgwVk9WZ0E9IiksIG5pbCwgImJ0IiwgX0VOVikpKCkNCg0KX0cuVXNlVXBkYXRlciA9IGZhbHNlDQoNCmxvY2FsIFJFUVVJUkVEX0xJQlMgPSB7DQoJWyJTT1ciXSA9ICJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vSGVsbHNpbmcvQm9ML21hc3Rlci9jb21tb24vU09XLmx1YSIsDQoJWyJWUHJlZGljdGlvbiJdID0gImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9IZWxsc2luZy9Cb0wvbWFzdGVyL2NvbW1vbi9WUHJlZGljdGlvbi5sdWEiLA0KCVsiUHJvZGljdGlvbiJdID0gImh0dHBzOi8vYml0YnVja2V0Lm9yZy9LbG9ramUvcHVibGljLWtsb2tqZXMtYm9sLXNjcmlwdHMvcmF3L21hc3Rlci9UZXN0L1Byb2RpY3Rpb24vUHJvZGljdGlvbi5sdWEiDQp9DQoNCmxvY2FsIERPV05MT0FESU5HX0xJQlMsIERPV05MT0FEX0NPVU5UID0gZmFsc2UsIDANCg0KZnVuY3Rpb24gQWZ0ZXJEb3dubG9hZCgpDQoJRE9XTkxPQURfQ09VTlQgPSBET1dOTE9BRF9DT1VOVCAtIDENCglpZiBET1dOTE9BRF9DT1VOVCA9PSAwIHRoZW4NCgkJRE9XTkxPQURJTkdfTElCUyA9IGZhbHNlDQoJCXByaW50KCI8Yj48Zm9udCBjb2xvcj1cIiM2Njk5RkZcIj5JbmNvbXBhcmFiIGxlQWhyaTo8L2ZvbnQ+PC9iPiA8Zm9udCBjb2xvcj1cIiNGRkZGRkZcIj5SZXF1aXJlZCBsaWJyYXJpZXMgZG93bmxvYWRlZCBzdWNjZXNzZnVsbHksIHBsZWFzZSByZWxvYWQgKGRvdWJsZSBGOSkuPC9mb250PiIpDQoJZW5kDQplbmQNCg0KZm9yIERPV05MT0FEX0xJQl9OQU1FLCBET1dOTE9BRF9MSUJfVVJMIGluIHBhaXJzKFJFUVVJUkVEX0xJQlMpIGRvDQoJaWYgRmlsZUV4aXN0KExJQl9QQVRIIC4uIERPV05MT0FEX0xJQl9OQU1FIC4uICIubHVhIikgdGhlbg0KCQlpZiBET1dOTE9BRF9MSUJfTkFNRSB+PSAiUHJvZGljdGlvbiIgdGhlbiByZXF1aXJlKERPV05MT0FEX0xJQl9OQU1FKSBlbmQNCgkJaWYgRE9XTkxPQURfTElCX05BTUUgPT0gIlByb2RpY3Rpb24iIGFuZCBWSVBfVVNFUiB0aGVuIHJlcXVpcmUoRE9XTkxPQURfTElCX05BTUUpIGVuZA0KCWVsc2UNCgkJRE9XTkxPQURJTkdfTElCUyA9IHRydWUNCgkJRE9XTkxPQURfQ09VTlQgPSBET1dOTE9BRF9DT1VOVCArIDENCgkJRG93bmxvYWRGaWxlKERPV05MT0FEX0xJQl9VUkwsIExJQl9QQVRIIC4uIERPV05MT0FEX0xJQl9OQU1FLi4iLmx1YSIsIEFmdGVyRG93bmxvYWQpDQoJZW5kDQplbmQNCg0KaWYgRE9XTkxPQURJTkdfTElCUyB0aGVuIHJldHVybiBlbmQNCg0KbG9jYWwgVVBEQVRFX05BTUUgPSAiSW5jb21wYXJhYmxlIEFocmkiDQpsb2NhbCBVUERBVEVfSE9TVCA9ICJyYXcuZ2l0aHViLmNvbSINCmxvY2FsIFVQREFURV9QQVRIID0gIi9CMW5rL0JvbC1TdHVkaW8vbWFzdGVyL0luY29tcGFyYWJsZSUyMEFocmkubHVhIg0KbG9jYWwgVVBEQVRFX0ZJTEVfUEFUSCA9IFNDUklQVF9QQVRILi5HZXRDdXJyZW50RW52KCkuRklMRV9OQU1FDQpsb2NhbCBVUERBVEVfVVJMID0gImh0dHBzOi8vIi4uVVBEQVRFX0hPU1QuLlVQREFURV9QQVRIDQoNCmZ1bmN0aW9uIEF1dG91cGRhdGVyTXNnKG1zZykgcHJpbnQoIjxiPjxmb250IGNvbG9yPVwiIzY2OTlGRlwiPiIuLlVQREFURV9OQU1FLi4iOjwvZm9udD48L2I+IDxmb250IGNvbG9yPVwiI0ZGRkZGRlwiPiIuLm1zZy4uIi48L2ZvbnQ+IikgZW5kDQppZiBfRy5Vc2VVcGRhdGVyIHRoZW4NCglsb2NhbCBTZXJ2ZXJEYXRhID0gR2V0V2ViUmVzdWx0KFVQREFURV9IT1NULCBVUERBVEVfUEFUSCkNCglpZiBTZXJ2ZXJEYXRhIHRoZW4NCgkJbG9jYWwgU2VydmVyVmVyc2lvbiA9IHN0cmluZy5tYXRjaChTZXJ2ZXJEYXRhLCAibG9jYWwgdmVyc2lvbiA9IFwiJWQrLiVkK1wiIikNCgkJU2VydmVyVmVyc2lvbiA9IHN0cmluZy5tYXRjaChTZXJ2ZXJWZXJzaW9uIGFuZCBTZXJ2ZXJWZXJzaW9uIG9yICIiLCAiJWQrLiVkKyIpDQoJCWlmIFNlcnZlclZlcnNpb24gdGhlbg0KCQkJU2VydmVyVmVyc2lvbiA9IHRvbnVtYmVyKFNlcnZlclZlcnNpb24pDQoJCQlpZiB0b251bWJlcih2ZXJzaW9uKSA8IFNlcnZlclZlcnNpb24gdGhlbg0KCQkJCUF1dG91cGRhdGVyTXNnKCJOZXcgdmVyc2lvbiBhdmFpbGFibGUgIi4uU2VydmVyVmVyc2lvbikNCgkJCQlBdXRvdXBkYXRlck1zZygiVXBkYXRpbmcsIHBsZWFzZSBkb24ndCBwcmVzcyBGOSIpDQoJCQkJRG93bmxvYWRGaWxlKFVQREFURV9VUkwsIFVQREFURV9GSUxFX1BBVEgsIGZ1bmN0aW9uICgpIEF1dG91cGRhdGVyTXNnKCJTdWNjZXNzZnVsbHkgdXBkYXRlZC4gKCIuLnZlcnNpb24uLiIgPT4gIi4uU2VydmVyVmVyc2lvbi4uIiksIHByZXNzIEY5IHR3aWNlIHRvIGxvYWQgdGhlIHVwZGF0ZWQgdmVyc2lvbi4iKSBlbmQpCSANCgkJCWVsc2UNCgkJCQlBdXRvdXBkYXRlck1zZygiWW91IGhhdmUgZ290IHRoZSBsYXRlc3QgdmVyc2lvbiAoIi4uU2VydmVyVmVyc2lvbi4uIikiKQ0KCQkJZW5kDQoJCWVuZA0KCWVsc2UNCgkJQXV0b3VwZGF0ZXJNc2coIkVycm9yIGRvd25sb2FkaW5nIHZlcnNpb24gaW5mbyIpDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gT25Mb2FkKCkNCglwcmludCgiPGI+PGZvbnQgY29sb3I9XCIjRkYwMDAwXCI+KCBJbmNvbXBhcmFibGUgQWhyaSApPC9mb250PjwvYj4gPGZvbnQgY29sb3I9XCIjRkZGRkZGXCI+bG9hZGVkITwvZm9udD4iKQ0KCXByaW50KCI8Yj48Zm9udCBjb2xvcj1cIiNGRjk5MDBcIj4oIEluY29tcGFyYWJsZSBTZXJpZXMgKTwvZm9udD48L2I+IDxmb250IGNvbG9yPVwiI0ZGMDAwMFwiPk9ubHkgU29jb29MITwvZm9udD4gPC9mb250PiA8Zm9udCBjb2xvciA9IFwiI0ZGOTlDQ1wiPihieSBCMW5rKTwvZm9udD4gPGZvbnQgY29sb3IgPSBcIiMzM0NDQ0NcIj4gcXE6PC9mb250PiA8Zm9udCBjb2xvciA9IFwiI0NDRkYwMFwiPjM4NDIzMjM0NzwvZm9udD4iKQ0KCVVwZGF0ZVdlYih0cnVlLCBTY3JpcHROYW1lLCBpZCwgSFdJRCkNCglWYXJpYWJsZXMoKQ0KCU1lbnUoKQ0KCVByaW9yaXR5T25Mb2FkKCkNCmVuZA0KDQpmdW5jdGlvbiBPbkJ1Z3NwbGF0KCkNCglVcGRhdGVXZWIoZmFsc2UsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KZW5kDQoNCmZ1bmN0aW9uIE9uVW5sb2FkKCkNCglVcGRhdGVXZWIoZmFsc2UsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KZW5kDQoNCmZ1bmN0aW9uIE9uVGljaygpDQoJQ29tYm9LZXkgPSBTZXR0aW5ncy5jb21iby5jb21ib0tleQ0KCUhhcmFzc0tleSA9IFNldHRpbmdzLmhhcmFzcy5oYXJhc3NLZXkNCglKdW5nbGVDbGVhcktleSA9IFNldHRpbmdzLmp1bmdsZS5qdW5nbGVLZXkNCglMYW5lQ2xlYXJLZXkgPSBTZXR0aW5ncy5sYW5lLmxhbmVLZXkNCgkNCglpZiBDb21ib0tleSB0aGVuDQoJCUNvbWJvKFRhcmdldCkNCgllbmQNCgkNCglpZiBIYXJhc3NLZXkgdGhlbg0KCQlIYXJhc3MoVGFyZ2V0KQ0KCWVuZA0KCQ0KCWlmIEp1bmdsZUNsZWFyS2V5IHRoZW4NCgkJSnVuZ2xlQ2xlYXIoKQ0KCWVuZA0KCQ0KCWlmIExhbmVDbGVhcktleSB0aGVuDQoJCUxhbmVDbGVhcigpDQoJZW5kDQoJDQoJaWYgU2V0dGluZ3Mua3Mua2lsbFN0ZWFsIHRoZW4NCgkJS2lsbFN0ZWFsKCkNCgllbmQNCg0KCUNoZWNrcygpDQplbmQNCg0KZnVuY3Rpb24gT25EcmF3KCkNCglpZiBub3QgbXlIZXJvLmRlYWQgYW5kIG5vdCBTZXR0aW5ncy5kcmF3aW5nLm1EcmF3IHRoZW4NCgkJaWYgU2tpbGxRLnJlYWR5IGFuZCBTZXR0aW5ncy5kcmF3aW5nLnFEcmF3IHRoZW4gDQoJCQlEcmF3Q2lyY2xlKG15SGVyby54LCBteUhlcm8ueSwgbXlIZXJvLnosIFNraWxsUS5yYW5nZSwgUkdCKFNldHRpbmdzLmRyYXdpbmcucUNvbG9yWzJdLCBTZXR0aW5ncy5kcmF3aW5nLnFDb2xvclszXSwgU2V0dGluZ3MuZHJhd2luZy5xQ29sb3JbNF0pKQ0KCQllbmQNCgkJaWYgU2tpbGxXLnJlYWR5IGFuZCBTZXR0aW5ncy5kcmF3aW5nLndEcmF3IHRoZW4gDQoJCQlEcmF3Q2lyY2xlKG15SGVyby54LCBteUhlcm8ueSwgbXlIZXJvLnosIFNraWxsVy5yYW5nZSwgUkdCKFNldHRpbmdzLmRyYXdpbmcud0NvbG9yWzJdLCBTZXR0aW5ncy5kcmF3aW5nLndDb2xvclszXSwgU2V0dGluZ3MuZHJhd2luZy53Q29sb3JbNF0pKQ0KCQllbmQNCgkJaWYgU2tpbGxFLnJlYWR5IGFuZCBTZXR0aW5ncy5kcmF3aW5nLmVEcmF3IHRoZW4gDQoJCQlEcmF3Q2lyY2xlKG15SGVyby54LCBteUhlcm8ueSwgbXlIZXJvLnosIFNraWxsRS5yYW5nZSwgUkdCKFNldHRpbmdzLmRyYXdpbmcuZUNvbG9yWzJdLCBTZXR0aW5ncy5kcmF3aW5nLmVDb2xvclszXSwgU2V0dGluZ3MuZHJhd2luZy5lQ29sb3JbNF0pKQ0KCQllbmQNCgkJaWYgU2tpbGxSLnJlYWR5IGFuZCBTZXR0aW5ncy5kcmF3aW5nLnJEcmF3IHRoZW4gDQoJCQlEcmF3Q2lyY2xlKG15SGVyby54LCBteUhlcm8ueSwgbXlIZXJvLnosIFNraWxsUi5yYW5nZSwgUkdCKFNldHRpbmdzLmRyYXdpbmcuckNvbG9yWzJdLCBTZXR0aW5ncy5kcmF3aW5nLnJDb2xvclszXSwgU2V0dGluZ3MuZHJhd2luZy5yQ29sb3JbNF0pKQ0KCQllbmQNCgkJDQoJCWlmIFNldHRpbmdzLmRyYXdpbmcubXlIZXJvIHRoZW4NCgkJCURyYXdDaXJjbGUobXlIZXJvLngsIG15SGVyby55LCBteUhlcm8ueiwgVHJ1ZVJhbmdlKCksIFJHQihTZXR0aW5ncy5kcmF3aW5nLm15Q29sb3JbMl0sIFNldHRpbmdzLmRyYXdpbmcubXlDb2xvclszXSwgU2V0dGluZ3MuZHJhd2luZy5teUNvbG9yWzRdKSkNCgkJZW5kDQoJCQ0KCQlpZiBTZXR0aW5ncy5kcmF3aW5nLlRhcmdldCBhbmQgVGFyZ2V0IH49IG5pbCB0aGVuDQoJCQlEcmF3Q2lyY2xlKFRhcmdldC54LCBUYXJnZXQueSwgVGFyZ2V0LnosIDgwLCBBUkdCKDI1NSwgMTAsIDI1NSwgMTApKQ0KCQllbmQNCgkJDQoJCWlmIFNldHRpbmdzLmRyYXdpbmcuVGV4dCB0aGVuIENhbGN1bGF0aW9uKCkgZW5kDQoJZW5kDQplbmQNCmZ1bmN0aW9uIENvbWJvKHVuaXQpDQoJaWYgVmFsaWRUYXJnZXQodW5pdCkgYW5kIHVuaXQgfj0gbmlsIGFuZCB1bml0LnR5cGUgPT0gbXlIZXJvLnR5cGUgdGhlbg0KCQlpZiBTZXR0aW5ncy5jb21iby5jb21ib0l0ZW1zIHRoZW4NCgkJCVVzZUl0ZW1zKHVuaXQpDQoJCWVuZA0KCQkNCgkJaWYgU2V0dGluZ3MuY29tYm8udXNlUiB0aGVuIENhc3RSKHVuaXQpIGVuZA0KCQlDYXN0RSh1bml0KQ0KCQlDYXN0USh1bml0KQ0KCQlDYXN0Vyh1bml0KQ0KCWVuZA0KCQ0KCWlmIG5vdCBTZXR0aW5ncy5jb21iby51c2VBQSB0aGVuDQoJCVNPV2k6RGlzYWJsZUF0dGFja3MoKQ0KCWVsc2VpZiBTZXR0aW5ncy5jb21iby51c2VBQSB0aGVuDQoJCVNPV2k6RW5hYmxlQXR0YWNrcygpDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gSGFyYXNzKHVuaXQpDQoJaWYgVmFsaWRUYXJnZXQodW5pdCkgYW5kIHVuaXQgfj0gbmlsIGFuZCB1bml0LnR5cGUgPT0gbXlIZXJvLnR5cGUgYW5kIG5vdCBJc015TWFuYUxvdygpIHRoZW4NCgkJaWYgU2V0dGluZ3MuaGFyYXNzLnVzZVEgdGhlbiBDYXN0USh1bml0KSBlbmQNCgkJaWYgU2V0dGluZ3MuaGFyYXNzLnVzZUUgdGhlbiBDYXN0RSh1bml0KSBlbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBMYW5lQ2xlYXIoKQ0KCWVuZW15TWluaW9uczp1cGRhdGUoKQ0KCWlmIExhbmVDbGVhcktleSB0aGVuDQoJCWZvciBpLCBtaW5pb24gaW4gcGFpcnMoZW5lbXlNaW5pb25zLm9iamVjdHMpIGRvDQoJCQlpZiBWYWxpZFRhcmdldChtaW5pb24pIGFuZCBtaW5pb24gfj0gbmlsIHRoZW4NCgkJCQlpZiBTZXR0aW5ncy5sYW5lLmxhbmVRIGFuZCBHZXREaXN0YW5jZShtaW5pb24pIDw9IFNraWxsUS5yYW5nZSBhbmQgU2tpbGxRLnJlYWR5IHRoZW4NCgkJCQkJbG9jYWwgQmVzdFBvcywgQmVzdEhpdCA9IEdldEJlc3RMaW5lRmFybVBvc2l0aW9uKFNraWxsUS5yYW5nZSwgU2tpbGxRLndpZHRoLCBlbmVteU1pbmlvbnMub2JqZWN0cykNCgkJCQkJCWlmIEJlc3RQb3Mgfj0gbmlsIHRoZW4NCgkJCQkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7IHNwZWxsSWQgPSBfUSwgdG9YID0gQmVzdFBvcy54LCB0b1kgPSBCZXN0UG9zLnosIGZyb21YID0gQmVzdFBvcy54LCBmcm9tWSA9IEJlc3RQb3MueiB9KTpzZW5kKCkgZW5kDQoJCQkJCQkJQ2FzdFNwZWxsKF9RLCBCZXN0UG9zLngsIEJlc3RQb3MueikNCgkJCQkJCWVuZA0KCQkJCWVuZA0KCQkJCWlmIFNldHRpbmdzLmxhbmUubGFuZVcgYW5kIEdldERpc3RhbmNlKG1pbmlvbikgPD0gU2tpbGxXLnJhbmdlIGFuZCBTa2lsbFcucmVhZHkgdGhlbg0KCQkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9XfSk6c2VuZCgpIGVuZA0KCQkJCQlDYXN0U3BlbGwoX1cpDQoJCQkJZW5kDQoJCQllbmQJCSANCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gSnVuZ2xlQ2xlYXIoKQ0KCWlmIFNldHRpbmdzLmp1bmdsZS5qdW5nbGVLZXkgdGhlbg0KCQlsb2NhbCBKdW5nbGVNb2IgPSBHZXRKdW5nbGVNb2IoKQ0KCQkNCgkJaWYgSnVuZ2xlTW9iIH49IG5pbCB0aGVuDQoJCQlpZiBTZXR0aW5ncy5qdW5nbGUuanVuZ2xlUSBhbmQgR2V0RGlzdGFuY2UoSnVuZ2xlTW9iKSA8PSBTa2lsbFEucmFuZ2UgYW5kIFNraWxsUS5yZWFkeSB0aGVuDQoJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwgeyBzcGVsbElkID0gX1EsIHRvWCA9IEp1bmdsZU1vYi54LCB0b1kgPSBKdW5nbGVNb2IueiwgZnJvbVggPSBKdW5nbGVNb2IueCwgZnJvbVkgPSBKdW5nbGVNb2IueiB9KTpzZW5kKCkgZW5kDQoJCQkJQ2FzdFNwZWxsKF9RLCBKdW5nbGVNb2IueCwgSnVuZ2xlTW9iLnopDQoJCQllbmQNCgkJCWlmIFNldHRpbmdzLmp1bmdsZS5qdW5nbGVXIGFuZCBHZXREaXN0YW5jZShKdW5nbGVNb2IpIDw9IFNraWxsVy5yYW5nZSBhbmQgU2tpbGxXLnJlYWR5IHRoZW4NCgkJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7c3BlbGxJZCA9IF9XfSk6c2VuZCgpIGVuZA0KCQkJCUNhc3RTcGVsbChfVykNCgkJCWVuZA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBDYXN0USh1bml0KQkNCglpZiB1bml0IH49IG5pbCBhbmQgR2V0RGlzdGFuY2UodW5pdCkgPD0gU2tpbGxRLnJhbmdlIGFuZCBTa2lsbFEucmVhZHkgdGhlbg0KCQlpZiBTZXR0aW5ncy5taXNjLnByZWRpY3Rpb24gPT0gMSB0aGVuDQoJCQlsb2NhbCBDYXN0UG9zaXRpb24sICBIaXRDaGFuY2UsICBQb3NpdGlvbiA9IFZQOkdldExpbmVDYXN0UG9zaXRpb24odW5pdCwgU2tpbGxRLmRlbGF5LCBTa2lsbFEud2lkdGgsIFNraWxsUS5yYW5nZSwgU2tpbGxRLnNwZWVkLCBteUhlcm8pDQoJCQkJCQ0KCQkJaWYgSGl0Q2hhbmNlID49IDIgdGhlbg0KCQkJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHsgc3BlbGxJZCA9IF9RLCB0b1ggPSBDYXN0UG9zaXRpb24ueCwgdG9ZID0gQ2FzdFBvc2l0aW9uLnosIGZyb21YID0gQ2FzdFBvc2l0aW9uLngsIGZyb21ZID0gQ2FzdFBvc2l0aW9uLnogfSk6c2VuZCgpIGVuZA0KCQkJCUNhc3RTcGVsbChfUSwgQ2FzdFBvc2l0aW9uLngsIENhc3RQb3NpdGlvbi56KQ0KCQkJZW5kDQoJCWVsc2VpZiBTZXR0aW5ncy5taXNjLnByZWRpY3Rpb24gPT0gMiBhbmQgVklQX1VTRVIgdGhlbg0KCQkJbG9jYWwgcG9zLCBpbmZvID0gUHJvZGljdGlvbi5HZXRQcmVkaWN0aW9uKHVuaXQsIFNraWxsUS5yYW5nZSwgU2tpbGxRLnNwZWVkLCBTa2lsbFEuZGVsYXksIFNraWxsUS53aWR0aCkNCgkJCQ0KCQkJaWYgcG9zIH49IG5pbCB0aGVuDQoJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwgeyBzcGVsbElkID0gX1EsIHRvWCA9IHBvcy54LCB0b1kgPSBwb3MueiwgZnJvbVggPSBwb3MueCwgZnJvbVkgPSBwb3MueiB9KTpzZW5kKCkgZW5kDQoJCQkJQ2FzdFNwZWxsKF9RLCBwb3MueCwgcG9zLnopDQoJCQllbmQNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gQ2FzdEUodW5pdCkNCglpZiB1bml0IH49IG5pbCBhbmQgR2V0RGlzdGFuY2UodW5pdCkgPD0gU2tpbGxFLnJhbmdlIGFuZCBTa2lsbEUucmVhZHkgdGhlbg0KCQlpZiBTZXR0aW5ncy5taXNjLnByZWRpY3Rpb24gPT0gMSB0aGVuDQoJCQlsb2NhbCBDYXN0UG9zaXRpb24sICBIaXRDaGFuY2UsICBQb3NpdGlvbiA9IFZQOkdldExpbmVDYXN0UG9zaXRpb24odW5pdCwgU2tpbGxFLmRlbGF5LCBTa2lsbEUud2lkdGgsIFNraWxsRS5yYW5nZSwgU2tpbGxFLnNwZWVkLCBteUhlcm8sIHRydWUpDQoJCQkJDQoJCQlpZiBIaXRDaGFuY2UgPj0gMiB0aGVuDQoJCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwgeyBzcGVsbElkID0gX0UsIHRvWCA9IENhc3RQb3NpdGlvbi54LCB0b1kgPSBDYXN0UG9zaXRpb24ueiwgZnJvbVggPSBDYXN0UG9zaXRpb24ueCwgZnJvbVkgPSBDYXN0UG9zaXRpb24ueiB9KTpzZW5kKCkgZW5kDQoJCQkJQ2FzdFNwZWxsKF9FLCBDYXN0UG9zaXRpb24ueCwgQ2FzdFBvc2l0aW9uLnopDQoJCQllbmQNCgkJZWxzZWlmIFNldHRpbmdzLm1pc2MucHJlZGljdGlvbiA9PSAyIGFuZCBWSVBfVVNFUiB0aGVuDQoJCQlsb2NhbCBwb3MsIGluZm8gPSBQcm9kaWN0aW9uLkdldFByZWRpY3Rpb24odW5pdCwgU2tpbGxFLnJhbmdlLCBTa2lsbEUuc3BlZWQsIFNraWxsRS5kZWxheSwgU2tpbGxFLndpZHRoKQ0KCQkJDQoJCQlpZiBwb3Mgfj0gbmlsIGFuZCBub3QgaW5mby5tQ29sbGlzaW9uKCkgdGhlbg0KCQkJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHsgc3BlbGxJZCA9IF9FLCB0b1ggPSBwb3MueCwgdG9ZID0gcG9zLnosIGZyb21YID0gcG9zLngsIGZyb21ZID0gcG9zLnogfSk6c2VuZCgpIGVuZA0KCQkJCUNhc3RTcGVsbChfRSwgcG9zLngsIHBvcy56KQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIENhc3RXKHVuaXQpCQ0KCWlmIHVuaXQgfj0gbmlsIGFuZCBTa2lsbFcucmVhZHkgYW5kIEdldERpc3RhbmNlKHVuaXQpIDw9IFNraWxsVy5yYW5nZSB0aGVuDQoJCWlmIFZJUF9VU0VSIGFuZCBTZXR0aW5ncy5taXNjLnBhY2tldHMgdGhlbiBQYWNrZXQoIlNfQ0FTVCIsIHtzcGVsbElkID0gX1d9KTpzZW5kKCkgZW5kDQoJCUNhc3RTcGVsbChfVykNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBDYXN0Uih1bml0KQ0KCWlmIHVuaXQgfj0gbmlsIHRoZW4NCgkJaWYgU2tpbGxSLnJlYWR5IGFuZCBHZXREaXN0YW5jZSh1bml0KSA8PSBTa2lsbFEucmFuZ2UgYW5kIFNldHRpbmdzLmNvbWJvLnVzZVIgPT0gMSB0aGVuDQoJCQlsb2NhbCBNb3VzZSA9IFZlY3RvcihteUhlcm8pICsgNDAwICogKFZlY3Rvcihtb3VzZVBvcykgLSBWZWN0b3IobXlIZXJvKSk6bm9ybWFsaXplZCgpDQoJCQlpZiBWSVBfVVNFUiBhbmQgU2V0dGluZ3MubWlzYy5wYWNrZXRzIHRoZW4gUGFja2V0KCJTX0NBU1QiLCB7IHNwZWxsSWQgPSBfUiwgdG9YID0gTW91c2UueCwgdG9ZID0gTW91c2UueiwgZnJvbVggPSBNb3VzZS54LCBmcm9tWSA9IE1vdXNlLnogfSk6c2VuZCgpIGVuZA0KCQkJQ2FzdFNwZWxsKF9SLCBNb3VzZS54LCBNb3VzZS56KSANCgkJZWxzZWlmIFNraWxsUi5yZWFkeSBhbmQgR2V0RGlzdGFuY2UodW5pdCkgPD0gU2tpbGxRLnJhbmdlIGFuZCBTZXR0aW5ncy5jb21iby51c2VSID09IDIgdGhlbg0KCQkJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2MucGFja2V0cyB0aGVuIFBhY2tldCgiU19DQVNUIiwgeyBzcGVsbElkID0gX1IsIHRvWCA9IHVuaXQueCwgdG9ZID0gdW5pdC56LCBmcm9tWCA9IHVuaXQueCwgZnJvbVkgPSB1bml0LnogfSk6c2VuZCgpIGVuZA0KCQkJQ2FzdFNwZWxsKF9SLCB1bml0LngsIHVuaXQueikNCgkJZWxzZWlmIFNldHRpbmdzLmNvbWJvLnVzZVIgPT0gMyB0aGVuDQoJCQlyZXR1cm4NCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gS2lsbFN0ZWFsKCkNCglmb3IgXywgZW5lbXkgaW4gaXBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvDQoJCWlmIFZhbGlkVGFyZ2V0KGVuZW15KSBhbmQgZW5lbXkudmlzaWJsZSB0aGVuDQoJCQlsb2NhbCBxRG1nID0gZ2V0RG1nKCJRIiwgZW5lbXksIG15SGVybykNCgkJCWxvY2FsIGVEbWcgPSBnZXREbWcoIkUiLCBlbmVteSwgbXlIZXJvKQ0KCQkJDQoJCQlpZiBlbmVteS5oZWFsdGggPD0gcURtZyB0aGVuDQoJCQkJQ2FzdFEoZW5lbXkpDQoJCQllbHNlaWYgZW5lbXkuaGVhbHRoIDw9IChxRG1nICsgZURtZykgdGhlbg0KCQkJCUNhc3RFKGVuZW15KQ0KCQkJCUNhc3RRKGVuZW15KQ0KCQkJZWxzZWlmIGVuZW15LmhlYWx0aCA8PSBlRG1nIHRoZW4NCgkJCQlDYXN0RShlbmVteSkNCgkJCWVuZA0KDQoJCQlpZiBTZXR0aW5ncy5rcy5hdXRvSWduaXRlIHRoZW4NCgkJCQlBdXRvSWduaXRlKGVuZW15KQ0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIENhbGN1bGF0aW9uKCkNCglmb3IgXywgZW5lbXkgaW4gaXBhaXJzKEdldEVuZW15SGVyb2VzKCkpIGRvDQoJCWlmIFZhbGlkVGFyZ2V0KGVuZW15KSBhbmQgZW5lbXkudmlzaWJsZSB0aGVuDQoJCQlsb2NhbCBxRG1nID0gZ2V0RG1nKCJRIiwgZW5lbXksIG15SGVybykNCgkJCWxvY2FsIHdEbWcgPSBnZXREbWcoIlciLCBlbmVteSwgbXlIZXJvKQ0KCQkJbG9jYWwgZURtZyA9IGdldERtZygiRSIsIGVuZW15LCBteUhlcm8pDQoJCQlsb2NhbCBpRG1nID0gZ2V0RG1nKCJJR05JVEUiLCBlbmVteSwgbXlIZXJvKQ0KCQkJDQoJCQlpZiBlbmVteS5oZWFsdGggPD0gcURtZyB0aGVuDQoJCQkJRHJhd1RleHQzRCh0b3N0cmluZygixNzJsTogUSIpLCBlbmVteS54LCBlbmVteS55LCBlbmVteS56LCAxNiwgQVJHQigyNTUsIDEwLCAyNTUsIDEwKSwgdHJ1ZSkNCgkJCWVsc2VpZiBlbmVteS5oZWFsdGggPD0gcURtZyArIHdEbWcgdGhlbg0KCQkJCURyYXdUZXh0M0QodG9zdHJpbmcoIsTcybE6IFEgPiBXIiksIGVuZW15LngsIGVuZW15LnksIGVuZW15LnosIDE2LCBBUkdCKDI1NSwgMTAsIDI1NSwgMTApLCB0cnVlKQ0KCQkJZWxzZWlmIGVuZW15LmhlYWx0aCA8PSBlRG1nIHRoZW4NCgkJCQlEcmF3VGV4dDNEKHRvc3RyaW5nKCLE3MmxOiBFIiksIGVuZW15LngsIGVuZW15LnksIGVuZW15LnosIDE2LCBBUkdCKDI1NSwgMTAsIDI1NSwgMTApLCB0cnVlKQ0KCQkJZWxzZWlmIGVuZW15LmhlYWx0aCA8PSAocURtZyArIGVEbWcpIHRoZW4NCgkJCQlEcmF3VGV4dDNEKHRvc3RyaW5nKCLE3MmxOiBFID4gUSIpLCBlbmVteS54LCBlbmVteS55LCBlbmVteS56LCAxNiwgQVJHQigyNTUsIDEwLCAyNTUsIDEwKSwgdHJ1ZSkNCgkJCWVsc2VpZiBlbmVteS5oZWFsdGggPD0gKHdEbWcgKyBlRG1nKSB0aGVuDQoJCQkJRHJhd1RleHQzRCh0b3N0cmluZygixNzJsTogRSA+IFciKSwgZW5lbXkueCwgZW5lbXkueSwgZW5lbXkueiwgMTYsIEFSR0IoMjU1LCAxMCwgMjU1LCAxMCksIHRydWUpDQoJCQllbHNlaWYgZW5lbXkuaGVhbHRoIDw9IChxRG1nICsgZURtZyArIHdEbWcpIHRoZW4NCgkJCQlEcmF3VGV4dDNEKHRvc3RyaW5nKCLE3MmxOiBFID4gUSA+IFciKSwgZW5lbXkueCwgZW5lbXkueSwgZW5lbXkueiwgMTYsIEFSR0IoMjU1LCAxMCwgMjU1LCAxMCksIHRydWUpDQoJCQllbHNlaWYgZW5lbXkuaGVhbHRoIDw9IChxRG1nICsgZURtZyArIHdEbWcgKyBpRG1nKSB0aGVuDQoJCQkJRHJhd1RleHQzRCh0b3N0cmluZygixNzJsTogRSA+IFEgPiBXID4gtePIvCIpLCBlbmVteS54LCBlbmVteS55LCBlbmVteS56LCAxNiwgQVJHQigyNTUsIDEwLCAyNTUsIDEwKSwgdHJ1ZSkNCgkJCWVuZA0KCQllbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBBdXRvSWduaXRlKHVuaXQpDQoJaWYgVmFsaWRUYXJnZXQodW5pdCwgSWduaXRlLnJhbmdlKSBhbmQgdW5pdC5oZWFsdGggPD0gNTAgKyAoMjAgKiBteUhlcm8ubGV2ZWwpIHRoZW4NCgkJaWYgSWduaXRlLnJlYWR5IHRoZW4NCgkJCUNhc3RTcGVsbChJZ25pdGUuc2xvdCwgdW5pdCkNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gQ2hlY2tzKCkNCglTa2lsbFEucmVhZHkgPSAobXlIZXJvOkNhblVzZVNwZWxsKF9RKSA9PSBSRUFEWSkNCglTa2lsbFcucmVhZHkgPSAobXlIZXJvOkNhblVzZVNwZWxsKF9XKSA9PSBSRUFEWSkNCglTa2lsbEUucmVhZHkgPSAobXlIZXJvOkNhblVzZVNwZWxsKF9FKSA9PSBSRUFEWSkNCglTa2lsbFIucmVhZHkgPSAobXlIZXJvOkNhblVzZVNwZWxsKF9SKSA9PSBSRUFEWSkNCgkNCglpZiBteUhlcm86R2V0U3BlbGxEYXRhKFNVTU1PTkVSXzEpLm5hbWU6ZmluZChJZ25pdGUubmFtZSkgdGhlbg0KCQlJZ25pdGUuc2xvdCA9IFNVTU1PTkVSXzENCgllbHNlaWYgbXlIZXJvOkdldFNwZWxsRGF0YShTVU1NT05FUl8yKS5uYW1lOmZpbmQoSWduaXRlLm5hbWUpIHRoZW4NCgkJSWduaXRlLnNsb3QgPSBTVU1NT05FUl8yDQoJZW5kDQoJDQoJSWduaXRlLnJlYWR5ID0gKElnbml0ZS5zbG90IH49IG5pbCBhbmQgbXlIZXJvOkNhblVzZVNwZWxsKElnbml0ZS5zbG90KSA9PSBSRUFEWSkNCgkNCglUYXJnZXRTZWxlY3Rvcjp1cGRhdGUoKQ0KCVRhcmdldCA9IEdldEN1c3RvbVRhcmdldCgpDQoJU09XaTpGb3JjZVRhcmdldChUYXJnZXQpDQoJDQoJaWYgVklQX1VTRVIgYW5kIFNldHRpbmdzLm1pc2Muc2tpbkxpc3QgdGhlbiBDaG9vc2VTa2luKCkgZW5kDQoJaWYgU2V0dGluZ3MuZHJhd2luZy5sZmMubGZjIHRoZW4gX0cuRHJhd0NpcmNsZSA9IERyYXdDaXJjbGUyIGVsc2UgX0cuRHJhd0NpcmNsZSA9IF9HLm9sZERyYXdDaXJjbGUgZW5kDQoJDQoJR2FtZW92ZXIoKQ0KZW5kDQoNCmZ1bmN0aW9uIElzTXlNYW5hTG93KCkNCglpZiBteUhlcm8ubWFuYSA8IChteUhlcm8ubWF4TWFuYSAqICggU2V0dGluZ3MuaGFyYXNzLmhhcmFzc01hbmEgLyAxMDApKSB0aGVuDQoJCXJldHVybiB0cnVlDQoJZWxzZQ0KCQlyZXR1cm4gZmFsc2UNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBNZW51KCkNCglTZXR0aW5ncyA9IHNjcmlwdENvbmZpZygiICjL+8PHtcS829a10tG+rbG71aW4ycHLKWJ5IEIxbmsgIiwgIkRyYWNvbmlzQWhyaSIpDQoJDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKhxo6qjqqOqo6qjqqhyICIsICJjb21ibzEiKQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCjqiDBrNXQ0aHP7iCjqiAiLCAiY29tYm8iKQ0KCQlTZXR0aW5ncy5jb21ibzphZGRQYXJhbSgiY29tYm9LZXkiLCAiLS0gqa7Su7z8wazV0CIsIFNDUklQVF9QQVJBTV9PTktFWURPV04sIGZhbHNlLCAzMikNCgkJU2V0dGluZ3MuY29tYm86YWRkUGFyYW0oInVzZVIiLCAiLS0gqa7KudPDIChSKSAiLCBTQ1JJUFRfUEFSQU1fTElTVCwgMSwgeyAiuPrL5srzseoiLCAiuPrL5srzseoiLCAisrvKudPDIn0pDQoJCVNldHRpbmdzLmNvbWJvOmFkZFBhcmFtKCJjb21ib0l0ZW1zIiwgIi0tIKmuyrnTw87vxrciLCBTQ1JJUFRfUEFSQU1fT05PRkYsIHRydWUpDQoJCVNldHRpbmdzLmNvbWJvOmFkZFBhcmFtKCJ1c2VBQSIsICItLSCprsGs1dDKudPDxtW5pSIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgo6ogyafIxdGhz+4go6ogIiwgImhhcmFzcyIpDQoJCVNldHRpbmdzLmhhcmFzczphZGRQYXJhbSgiaGFyYXNzS2V5IiwgIi0tIKmu0ru8/MmnyMUiLCBTQ1JJUFRfUEFSQU1fT05LRVlET1dOLCBmYWxzZSwgR2V0S2V5KCJDIikpDQoJCVNldHRpbmdzLmhhcmFzczphZGRQYXJhbSgidXNlUSIsICItLSCprsq508MgKFEpICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuaGFyYXNzOmFkZFBhcmFtKCJ1c2VFIiwgIi0tIKmuyrnTwyAoRSkgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5oYXJhc3M6YWRkUGFyYW0oImhhcmFzc01hbmEiLCAiLS0gqa7Jp8jFt6jBps/e1sY6ICIsIFNDUklQVF9QQVJBTV9TTElDRSwgNTAsIDAsIDEwMCwgMCkNCgkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgo6ogx+XP39Ghz+4go6ogIiwgImxhbmUiKQ0KCQlTZXR0aW5ncy5sYW5lOmFkZFBhcmFtKCJsYW5lS2V5IiwgIi0tIKmu0ru8/Mflz98iLCBTQ1JJUFRfUEFSQU1fT05LRVlET1dOLCBmYWxzZSwgR2V0S2V5KCJYIikpDQoJCVNldHRpbmdzLmxhbmU6YWRkUGFyYW0oImxhbmVRIiwgIi0tIKmuyrnTwyAoUSkgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5sYW5lOmFkZFBhcmFtKCJsYW5lVyIsICItLSCprsq508MgKFcpICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgo6ogx+XSsNGhz+4go6ogIiwgImp1bmdsZSIpDQoJCVNldHRpbmdzLmp1bmdsZTphZGRQYXJhbSgianVuZ2xlS2V5IiwgIi0tIKmu0ru8/Mfl0rAiLCBTQ1JJUFRfUEFSQU1fT05LRVlET1dOLCBmYWxzZSwgR2V0S2V5KCJYIikpDQoJCVNldHRpbmdzLmp1bmdsZTphZGRQYXJhbSgianVuZ2xlUSIsICItLSCprsq508MgKFEpICIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuanVuZ2xlOmFkZFBhcmFtKCJqdW5nbGVXIiwgIi0tIKmuyrnTwyAoVykgIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCjqiC798mx0aHP7iCjqiAiLCAia3MiKQ0KCQlTZXR0aW5ncy5rczphZGRQYXJhbSgia2lsbFN0ZWFsIiwgIi0tIKmuxvTTw8fAyMvNtyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3Mua3M6YWRkUGFyYW0oImF1dG9JZ25pdGUiLCAiLS0gqa6148i8x8DIy823IiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCjqiDP1Mq+0aHP7iCjqiAiLCAiZHJhd2luZyIpCQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJtRHJhdyIsICItLSCprr3708PL+dPQyKbIpiIsIFNDUklQVF9QQVJBTV9PTk9GRiwgZmFsc2UpDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oIlRhcmdldCIsICItLSCprs/Uyr6x6rzHxL+x6iIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgiVGV4dCIsICItLSCprs/Uyr6798mxzsSxviIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgibXlIZXJvIiwgIi0tIKmuz9TKvtfUvLq3ts6nIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJteUNvbG9yIiwgIi0tIKmuz9TKvtfUvLrR1cmrIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oInFEcmF3IiwgIi0tIKmuz9TKviAoUSkgt7bOpyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgicUNvbG9yIiwgIi0tIKmuz9TKviAoUSkg0dXJqyIsIFNDUklQVF9QQVJBTV9DT0xPUiwgezI1NSwgNzQsIDI2LCAyNTV9KQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJ3RHJhdyIsICItLSCprs/Uyr4gKFcpILe2zqciLCBTQ1JJUFRfUEFSQU1fT05PRkYsIGZhbHNlKQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJ3Q29sb3IiLCAiLS0gqa7P1Mq+IChXKSDR1cmrIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkUGFyYW0oImVEcmF3IiwgIi0tIKmuz9TKviAoRSkgt7bOpyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCgkJU2V0dGluZ3MuZHJhd2luZzphZGRQYXJhbSgiZUNvbG9yIiwgIi0tIKmuz9TKviAoRSkg0dXJqyIsIFNDUklQVF9QQVJBTV9DT0xPUiwgezI1NSwgNzQsIDI2LCAyNTV9KQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJyRHJhdyIsICItLSCprs/Uyr4gKFIpILe2zqciLCBTQ1JJUFRfUEFSQU1fT05PRkYsIGZhbHNlKQ0KCQlTZXR0aW5ncy5kcmF3aW5nOmFkZFBhcmFtKCJyQ29sb3IiLCAiLS0gqa7P1Mq+IChSKSDR1cmrIiwgU0NSSVBUX1BBUkFNX0NPTE9SLCB7MjU1LCA3NCwgMjYsIDI1NX0pDQoJDQoJCVNldHRpbmdzLmRyYXdpbmc6YWRkU3ViTWVudSgiLS0gqa7O3tHTs9nIpsimIiwgImxmYyIpCQ0KCQkJU2V0dGluZ3MuZHJhd2luZy5sZmM6YWRkUGFyYW0oImxmYyIsICItLSCprsq508PO3tHTs9nIpsimIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCBmYWxzZSkNCgkJCVNldHRpbmdzLmRyYXdpbmcubGZjOmFkZFBhcmFtKCJDTCIsICItLSCprsimyKbWysG/IiwgNCwgNzUsIDc1LCAyMDAwLCAwKQ0KCQkJU2V0dGluZ3MuZHJhd2luZy5sZmM6YWRkUGFyYW0oIldpZHRoIiwgIi0tIKmuyKbIpr/ttsgiLCA0LCAxLCAxLCAxMCwgMCkNCgkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgo6oguN+8ttGhz+4go6ogIiwibWlzYyIpCQ0KCQlTZXR0aW5ncy5taXNjOmFkZFBhcmFtKCJwYWNrZXRzIiwgIi0tIKmuyrnTw8r9vt2w/CIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkJDQoJCVNldHRpbmdzLm1pc2M6YWRkUGFyYW0oInByZWRpY3Rpb24iLCAiLS0gqa7RodTx1KTF0CIsIFNDUklQVF9QQVJBTV9MSVNULCAxLCB7ICItIFZQ1KTF0CAtIiwgIi0gS9SkxdAgLSIgfSkNCgkJU2V0dGluZ3MubWlzYzphZGRQYXJhbSgic2tpbkxpc3QiLCAiLS0gqa7RodTxxqS39CIsIFNDUklQVF9QQVJBTV9MSVNULCA1LCB7ICItILjfwPa358fpIC0iLCAiLSDO59K50f26/CAtIiwgIi0gu/C6/CAtIiwgIi0gwffQ0Ljo0McgLSIsICItIMSsyM8gLSIgfSkNCgkNCgkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgo6og19+/s9Ghz+4go6ogIiwgIk9yYndhbGtpbmciKQ0KCQlTT1dpOkxvYWRUb01lbnUoU2V0dGluZ3MuT3Jid2Fsa2luZykNCgkNCglTZXR0aW5nczphZGRTdWJNZW51KCIgo6ogvcWxvrq6u68go6ogYnkgQjFuayAgICAgICAiLCAic2VwMSIpDQoJU2V0dGluZ3M6YWRkU3ViTWVudSgiIKOqILj8tuC31s/tIKOqIFHIujozODQyMzIzNDcgIiwgInNlcDIiKQ0KCVNldHRpbmdzOmFkZFN1Yk1lbnUoIiCodKOqo6qjqqOqo6qocyIsICJzZXAzIikNCgkNCglUYXJnZXRTZWxlY3RvciA9IFRhcmdldFNlbGVjdG9yKFRBUkdFVF9MRVNTX0NBU1QsIFNraWxsRS5yYW5nZSwgREFNQUdFX01BR0lDLCB0cnVlKQ0KCVRhcmdldFNlbGVjdG9yLm5hbWUgPSAiQWhyaSINCglTZXR0aW5nczphZGRUUyhUYXJnZXRTZWxlY3RvcikNCmVuZA0KCQ0KZnVuY3Rpb24gVmFyaWFibGVzKCkNCglTa2lsbFEgPSB7IG5hbWUgPSAiT3JiIG9mIERlY2VwdGlvbiIsIHJhbmdlID0gODQwLCBkZWxheSA9IDAuMjUsIHNwZWVkID0gMTYwMCwgd2lkdGggPSA5MCwgcmVhZHkgPSBmYWxzZSB9DQoJU2tpbGxXID0geyBuYW1lID0gIkZveC1GaXJlIiwgcmFuZ2UgPSA4MDAsIGRlbGF5ID0gbmlsLCBzcGVlZCA9IG5pbCwgd2lkdGggPSBuaWwsIHJlYWR5ID0gZmFsc2UgfQ0KCVNraWxsRSA9IHsgbmFtZSA9ICJDaGFybSIsIHJhbmdlID0gOTc1LCBkZWxheSA9IDAuMjUsIHNwZWVkID0gMTUwMCwgd2lkdGggPSAxMDAsIHJlYWR5ID0gZmFsc2UgfQ0KCVNraWxsUiA9IHsgbmFtZSA9ICJTcGlyaXQgUnVzaCIsIHJhbmdlID0gNTUwLCBkZWxheSA9IG5pbCwgc3BlZWQgPSBuaWwsIHdpZHRoID0gbmlsLCByZWFkeSA9IGZhbHNlIH0NCglJZ25pdGUgPSB7IG5hbWUgPSAiU3VtbW9uZXJEb3QiLCByYW5nZSA9IDYwMCwgc2xvdCA9IG5pbCB9DQoJDQoJZW5lbXlNaW5pb25zID0gbWluaW9uTWFuYWdlcihNSU5JT05fRU5FTVksIFNraWxsRS5yYW5nZSwgbXlIZXJvLCBNSU5JT05fU09SVF9IRUFMVEhfQVNDKQ0KCQ0KCVZQID0gVlByZWRpY3Rpb24oKQ0KCVNPV2kgPSBTT1coVlApDQoJDQoJSnVuZ2xlTW9icyA9IHt9DQoJSnVuZ2xlRm9jdXNNb2JzID0ge30NCgkNCglsYXN0U2tpbiA9IDANCgkNCglpZiBHZXRHYW1lKCkubWFwLnNob3J0TmFtZSA9PSAidHdpc3RlZFRyZWVsaW5lIiB0aGVuDQoJCVR3aXN0ZWRUcmVlbGluZSA9IHRydWUgDQoJZWxzZQ0KCQlUd2lzdGVkVHJlZWxpbmUgPSBmYWxzZQ0KCWVuZA0KCQ0KCV9HLm9sZERyYXdDaXJjbGUgPSByYXdnZXQoX0csICdEcmF3Q2lyY2xlJykNCglfRy5EcmF3Q2lyY2xlID0gRHJhd0NpcmNsZTIJDQoJDQoJcHJpb3JpdHlUYWJsZSA9IHsNCgkJCUFQID0gew0KCQkJCSJBbm5pZSIsICJBaHJpIiwgIkFrYWxpIiwgIkFuaXZpYSIsICJBbm5pZSIsICJCcmFuZCIsICJDYXNzaW9wZWlhIiwgIkRpYW5hIiwgIkV2ZWx5bm4iLCAiRmlkZGxlU3RpY2tzIiwgIkZpenoiLCAiR3JhZ2FzIiwgIkhlaW1lcmRpbmdlciIsICJLYXJ0aHVzIiwNCgkJCQkiS2Fzc2FkaW4iLCAiS2F0YXJpbmEiLCAiS2F5bGUiLCAiS2VubmVuIiwgIkxlYmxhbmMiLCAiTGlzc2FuZHJhIiwgIkx1eCIsICJNYWx6YWhhciIsICJNb3JkZWthaXNlciIsICJNb3JnYW5hIiwgIk5pZGFsZWUiLCAiT3JpYW5uYSIsDQoJCQkJIlJ5emUiLCAiU2lvbiIsICJTd2FpbiIsICJTeW5kcmEiLCAiVGVlbW8iLCAiVHdpc3RlZEZhdGUiLCAiVmVpZ2FyIiwgIlZpa3RvciIsICJWbGFkaW1pciIsICJYZXJhdGgiLCAiWmlnZ3MiLCAiWnlyYSIsICJWZWxrb3oiDQoJCQl9LA0KCQkJDQoJCQlTdXBwb3J0ID0gew0KCQkJCSJBbGlzdGFyIiwgIkJsaXR6Y3JhbmsiLCAiSmFubmEiLCAiS2FybWEiLCAiTGVvbmEiLCAiTHVsdSIsICJOYW1pIiwgIk51bnUiLCAiU29uYSIsICJTb3Jha2EiLCAiVGFyaWMiLCAiVGhyZXNoIiwgIlppbGVhbiIsICJCcmF1bSINCgkJCX0sDQoJCQkNCgkJCVRhbmsgPSB7DQoJCQkJIkFtdW11IiwgIkNob2dhdGgiLCAiRHJNdW5kbyIsICJHYWxpbyIsICJIZWNhcmltIiwgIk1hbHBoaXRlIiwgIk1hb2thaSIsICJOYXN1cyIsICJSYW1tdXMiLCAiU2VqdWFuaSIsICJOYXV0aWx1cyIsICJTaGVuIiwgIlNpbmdlZCIsICJTa2FybmVyIiwgIlZvbGliZWFyIiwNCgkJCQkiV2Fyd2ljayIsICJZb3JpY2siLCAiWmFjIg0KCQkJfSwNCgkJCQ0KCQkJQURfQ2FycnkgPSB7DQoJCQkJIkFzaGUiLCAiQ2FpdGx5biIsICJDb3JraSIsICJEcmF2ZW4iLCAiRXpyZWFsIiwgIkdyYXZlcyIsICJKYXljZSIsICJKaW54IiwgIktvZ01hdyIsICJMdWNpYW4iLCAiTWFzdGVyWWkiLCAiTWlzc0ZvcnR1bmUiLCAiUGFudGhlb24iLCAiUXVpbm4iLCAiU2hhY28iLCAiU2l2aXIiLA0KCQkJCSJUYWxvbiIsIlRyeW5kYW1lcmUiLCAiVHJpc3RhbmEiLCAiVHdpdGNoIiwgIlVyZ290IiwgIlZhcnVzIiwgIlZheW5lIiwgIllhc3VvIiwgIlplZCINCgkJCX0sDQoJCQkNCgkJCUJydWlzZXIgPSB7DQoJCQkJIkFhdHJveCIsICJEYXJpdXMiLCAiRWxpc2UiLCAiRmlvcmEiLCAiR2FuZ3BsYW5rIiwgIkdhcmVuIiwgIklyZWxpYSIsICJKYXJ2YW5JViIsICJKYXgiLCAiS2hheml4IiwgIkxlZVNpbiIsICJOb2N0dXJuZSIsICJPbGFmIiwgIlBvcHB5IiwNCgkJCQkiUmVuZWt0b24iLCAiUmVuZ2FyIiwgIlJpdmVuIiwgIlJ1bWJsZSIsICJTaHl2YW5hIiwgIlRydW5kbGUiLCAiVWR5ciIsICJWaSIsICJNb25rZXlLaW5nIiwgIlhpblpoYW8iDQoJCQl9DQoJfQ0KDQoJSXRlbXMgPSB7DQoJCUJSSyA9IHsgaWQgPSAzMTUzLCByYW5nZSA9IDQ1MCwgcmVxVGFyZ2V0ID0gdHJ1ZSwgc2xvdCA9IG5pbCB9LA0KCQlCV0MgPSB7IGlkID0gMzE0NCwgcmFuZ2UgPSA0MDAsIHJlcVRhcmdldCA9IHRydWUsIHNsb3QgPSBuaWwgfSwNCgkJREZHID0geyBpZCA9IDMxMjgsIHJhbmdlID0gNzUwLCByZXFUYXJnZXQgPSB0cnVlLCBzbG90ID0gbmlsIH0sDQoJCUhHQiA9IHsgaWQgPSAzMTQ2LCByYW5nZSA9IDQwMCwgcmVxVGFyZ2V0ID0gdHJ1ZSwgc2xvdCA9IG5pbCB9LA0KCQlSU0ggPSB7IGlkID0gMzA3NCwgcmFuZ2UgPSAzNTAsIHJlcVRhcmdldCA9IGZhbHNlLCBzbG90ID0gbmlsIH0sDQoJCVNURCA9IHsgaWQgPSAzMTMxLCByYW5nZSA9IDM1MCwgcmVxVGFyZ2V0ID0gZmFsc2UsIHNsb3QgPSBuaWwgfSwNCgkJVE1UID0geyBpZCA9IDMwNzcsIHJhbmdlID0gMzUwLCByZXFUYXJnZXQgPSBmYWxzZSwgc2xvdCA9IG5pbCB9LA0KCQlZR0IgPSB7IGlkID0gMzE0MiwgcmFuZ2UgPSAzNTAsIHJlcVRhcmdldCA9IGZhbHNlLCBzbG90ID0gbmlsIH0sDQoJCUJGVCA9IHsgaWQgPSAzMTg4LCByYW5nZSA9IDc1MCwgcmVxVGFyZ2V0ID0gdHJ1ZSwgc2xvdCA9IG5pbCB9LA0KCQlSTkQgPSB7IGlkID0gMzE0MywgcmFuZ2UgPSAyNzUsIHJlcVRhcmdldCA9IGZhbHNlLCBzbG90ID0gbmlsIH0NCgl9DQoJDQoJaWYgbm90IFR3aXN0ZWRUcmVlbGluZSB0aGVuDQoJCUp1bmdsZU1vYk5hbWVzID0geyANCgkJCVsiV29sZjguMS4yIl0JCQk9IHRydWUsDQoJCQlbIldvbGY4LjEuMyJdCQkJPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDcuMS4yIl0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDcuMS4zIl0JPSB0cnVlLA0KCQkJWyJMZXNzZXJXcmFpdGg5LjEuMyJdCT0gdHJ1ZSwNCgkJCVsiTGVzc2VyV3JhaXRoOS4xLjIiXQk9IHRydWUsDQoJCQlbIkxlc3NlcldyYWl0aDkuMS40Il0JPSB0cnVlLA0KCQkJWyJZb3VuZ0xpemFyZDEwLjEuMiJdCT0gdHJ1ZSwNCgkJCVsiWW91bmdMaXphcmQxMC4xLjMiXQk9IHRydWUsDQoJCQlbIlNtYWxsR29sZW0xMS4xLjEiXQk9IHRydWUsDQoJCQlbIldvbGYyLjEuMiJdCQkJPSB0cnVlLA0KCQkJWyJXb2xmMi4xLjMiXQkJCT0gdHJ1ZSwNCgkJCVsiWW91bmdMaXphcmQxLjEuMiJdCT0gdHJ1ZSwNCgkJCVsiWW91bmdMaXphcmQxLjEuMyJdCT0gdHJ1ZSwNCgkJCVsiTGVzc2VyV3JhaXRoMy4xLjMiXQk9IHRydWUsDQoJCQlbIkxlc3NlcldyYWl0aDMuMS4yIl0JPSB0cnVlLA0KCQkJWyJMZXNzZXJXcmFpdGgzLjEuNCJdCT0gdHJ1ZSwNCgkJCVsiWW91bmdMaXphcmQ0LjEuMiJdCT0gdHJ1ZSwNCgkJCVsiWW91bmdMaXphcmQ0LjEuMyJdCT0gdHJ1ZSwNCgkJCVsiU21hbGxHb2xlbTUuMS4xIl0JCT0gdHJ1ZQ0KCQl9DQoJCQ0KCQlGb2N1c0p1bmdsZU5hbWVzID0gew0KCQkJWyJEcmFnb242LjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJXb3JtMTIuMS4xIl0JCQk9IHRydWUsDQoJCQlbIkdpYW50V29sZjguMS4xIl0JCT0gdHJ1ZSwNCgkJCVsiQW5jaWVudEdvbGVtNy4xLjEiXQk9IHRydWUsDQoJCQlbIldyYWl0aDkuMS4xIl0JCQk9IHRydWUsDQoJCQlbIkxpemFyZEVsZGVyMTAuMS4xIl0JPSB0cnVlLA0KCQkJWyJHb2xlbTExLjEuMiJdCQkJPSB0cnVlLA0KCQkJWyJHaWFudFdvbGYyLjEuMSJdCQk9IHRydWUsDQoJCQlbIkFuY2llbnRHb2xlbTEuMS4xIl0JPSB0cnVlLA0KCQkJWyJXcmFpdGgzLjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJMaXphcmRFbGRlcjQuMS4xIl0JPSB0cnVlLA0KCQkJWyJHb2xlbTUuMS4yIl0JCQk9IHRydWUsDQoJCQlbIkdyZWF0V3JhaXRoMTMuMS4xIl0JPSB0cnVlLA0KCQkJWyJHcmVhdFdyYWl0aDE0LjEuMSJdCT0gdHJ1ZQ0KCQl9DQoJZWxzZQ0KCQlGb2N1c0p1bmdsZU5hbWVzID0gew0KCQkJWyJUVF9OV3JhaXRoMS4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTkdvbGVtMi4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTldvbGYzLjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9OV3JhaXRoNC4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTkdvbGVtNS4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTldvbGY2LjEuMSJdCQkJPSB0cnVlLA0KCQkJWyJUVF9TcGlkZXJib3NzOC4xLjEiXQkJPSB0cnVlDQoJCX0JCQ0KCQlKdW5nbGVNb2JOYW1lcyA9IHsNCgkJCVsiVFRfTldyYWl0aDIxLjEuMiJdCQk9IHRydWUsDQoJCQlbIlRUX05XcmFpdGgyMS4xLjMiXQkJPSB0cnVlLA0KCQkJWyJUVF9OR29sZW0yMi4xLjIiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTldvbGYyMy4xLjIiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTldvbGYyMy4xLjMiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTldyYWl0aDI0LjEuMiJdCQk9IHRydWUsDQoJCQlbIlRUX05XcmFpdGgyNC4xLjMiXQkJPSB0cnVlLA0KCQkJWyJUVF9OR29sZW0yNS4xLjEiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTldvbGYyNi4xLjIiXQkJCT0gdHJ1ZSwNCgkJCVsiVFRfTldvbGYyNi4xLjMiXQkJCT0gdHJ1ZQ0KCQl9DQoJZW5kDQoJCQ0KCWZvciBpID0gMCwgb2JqTWFuYWdlci5tYXhPYmplY3RzIGRvDQoJCWxvY2FsIG9iamVjdCA9IG9iak1hbmFnZXI6Z2V0T2JqZWN0KGkpDQoJCWlmIG9iamVjdCBhbmQgb2JqZWN0LnZhbGlkIGFuZCBub3Qgb2JqZWN0LmRlYWQgdGhlbg0KCQkJaWYgRm9jdXNKdW5nbGVOYW1lc1tvYmplY3QubmFtZV0gdGhlbg0KCQkJCUp1bmdsZUZvY3VzTW9ic1sjSnVuZ2xlRm9jdXNNb2JzKzFdID0gb2JqZWN0DQoJCQllbHNlaWYgSnVuZ2xlTW9iTmFtZXNbb2JqZWN0Lm5hbWVdIHRoZW4NCgkJCQlKdW5nbGVNb2JzWyNKdW5nbGVNb2JzKzFdID0gb2JqZWN0DQoJCQllbmQNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gU2V0UHJpb3JpdHkodGFibGUsIGhlcm8sIHByaW9yaXR5KQ0KCWZvciBpPTEsICN0YWJsZSwgMSBkbw0KCQlpZiBoZXJvLmNoYXJOYW1lOmZpbmQodGFibGVbaV0pIH49IG5pbCB0aGVuDQoJCQlUU19TZXRIZXJvUHJpb3JpdHkocHJpb3JpdHksIGhlcm8uY2hhck5hbWUpDQoJCWVuZA0KCWVuZA0KZW5kDQogDQpmdW5jdGlvbiBhcnJhbmdlUHJpb3JpdHlzKCkNCgkJZm9yIGksIGVuZW15IGluIGlwYWlycyhHZXRFbmVteUhlcm9lcygpKSBkbw0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLkFEX0NhcnJ5LCBlbmVteSwgMSkNCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5BUCwJICAgZW5lbXksIDIpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuU3VwcG9ydCwgIGVuZW15LCAzKQ0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLkJydWlzZXIsICBlbmVteSwgNCkNCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5UYW5rLAkgZW5lbXksIDUpDQoJCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIGFycmFuZ2VQcmlvcml0eXNUVCgpDQogICAgICAgIGZvciBpLCBlbmVteSBpbiBpcGFpcnMoR2V0RW5lbXlIZXJvZXMoKSkgZG8NCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5BRF9DYXJyeSwgZW5lbXksIDEpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuQVAsICAgICAgIGVuZW15LCAxKQ0KCQlTZXRQcmlvcml0eShwcmlvcml0eVRhYmxlLlN1cHBvcnQsICBlbmVteSwgMikNCgkJU2V0UHJpb3JpdHkocHJpb3JpdHlUYWJsZS5CcnVpc2VyLCAgZW5lbXksIDIpDQoJCVNldFByaW9yaXR5KHByaW9yaXR5VGFibGUuVGFuaywgICAgIGVuZW15LCAzKQ0KICAgICAgICBlbmQNCmVuZA0KDQpmdW5jdGlvbiBVc2VJdGVtcyh1bml0KQ0KCWlmIHVuaXQgfj0gbmlsIHRoZW4NCgkJZm9yIF8sIGl0ZW0gaW4gcGFpcnMoSXRlbXMpIGRvDQoJCQlpdGVtLnNsb3QgPSBHZXRJbnZlbnRvcnlTbG90SXRlbShpdGVtLmlkKQ0KCQkJaWYgaXRlbS5zbG90IH49IG5pbCB0aGVuDQoJCQkJaWYgaXRlbS5yZXFUYXJnZXQgYW5kIEdldERpc3RhbmNlKHVuaXQpIDwgaXRlbS5yYW5nZSB0aGVuDQoJCQkJCUNhc3RTcGVsbChpdGVtLnNsb3QsIHVuaXQpDQoJCQkJZWxzZWlmIG5vdCBpdGVtLnJlcVRhcmdldCB0aGVuDQoJCQkJCWlmIChHZXREaXN0YW5jZSh1bml0KSAtIGdldEhpdEJveFJhZGl1cyhteUhlcm8pIC0gZ2V0SGl0Qm94UmFkaXVzKHVuaXQpKSA8IDUwIHRoZW4NCgkJCQkJCUNhc3RTcGVsbChpdGVtLnNsb3QpDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIGdldEhpdEJveFJhZGl1cyh0YXJnZXQpDQoJcmV0dXJuIEdldERpc3RhbmNlKHRhcmdldC5taW5CQm94LCB0YXJnZXQubWF4QkJveCkvMg0KZW5kDQoNCmZ1bmN0aW9uIFByaW9yaXR5T25Mb2FkKCkNCglpZiBoZXJvTWFuYWdlci5pQ291bnQgPCAxMCBvciAoVHdpc3RlZFRyZWVsaW5lIGFuZCBoZXJvTWFuYWdlci5pQ291bnQgPCA2KSB0aGVuDQoJCXByaW50KCI8Yj48Zm9udCBjb2xvcj1cIiNGRjk5MDBcIj5JbmNvbXBhcmFibGUgQWhyaTo8L2ZvbnQ+PC9iPiA8Zm9udCBjb2xvcj1cIiNGRjAwMDBcIj5Ub28gZmV3IGNoYW1waW9ucyB0byBhcnJhbmdlIHByaW9yaXR5LjwvZm9udD4iKQ0KCWVsc2VpZiBoZXJvTWFuYWdlci5pQ291bnQgPT0gNiB0aGVuDQoJCWFycmFuZ2VQcmlvcml0eXNUVCgpDQogICAgZWxzZQ0KCQlhcnJhbmdlUHJpb3JpdHlzKCkNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBHZXRKdW5nbGVNb2IoKQ0KCWZvciBfLCBNb2IgaW4gcGFpcnMoSnVuZ2xlRm9jdXNNb2JzKSBkbw0KCQlpZiBWYWxpZFRhcmdldChNb2IsIFNraWxsUS5yYW5nZSkgdGhlbiByZXR1cm4gTW9iIGVuZA0KCWVuZA0KCWZvciBfLCBNb2IgaW4gcGFpcnMoSnVuZ2xlTW9icykgZG8NCgkJaWYgVmFsaWRUYXJnZXQoTW9iLCBTa2lsbFEucmFuZ2UpIHRoZW4gcmV0dXJuIE1vYiBlbmQNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBPbkNyZWF0ZU9iaihvYmopDQoJaWYgb2JqLnZhbGlkIHRoZW4NCgkJaWYgRm9jdXNKdW5nbGVOYW1lc1tvYmoubmFtZV0gdGhlbg0KCQkJSnVuZ2xlRm9jdXNNb2JzWyNKdW5nbGVGb2N1c01vYnMrMV0gPSBvYmoNCgkJZWxzZWlmIEp1bmdsZU1vYk5hbWVzW29iai5uYW1lXSB0aGVuDQoJCQlKdW5nbGVNb2JzWyNKdW5nbGVNb2JzKzFdID0gb2JqDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIE9uRGVsZXRlT2JqKG9iaikNCglmb3IgaSwgTW9iIGluIHBhaXJzKEp1bmdsZU1vYnMpIGRvDQoJCWlmIG9iai5uYW1lID09IE1vYi5uYW1lIHRoZW4NCgkJCXRhYmxlLnJlbW92ZShKdW5nbGVNb2JzLCBpKQ0KCQllbmQNCgllbmQNCglmb3IgaSwgTW9iIGluIHBhaXJzKEp1bmdsZUZvY3VzTW9icykgZG8NCgkJaWYgb2JqLm5hbWUgPT0gTW9iLm5hbWUgdGhlbg0KCQkJdGFibGUucmVtb3ZlKEp1bmdsZUZvY3VzTW9icywgaSkNCgkJZW5kDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gVHJ1ZVJhbmdlKCkNCglyZXR1cm4gbXlIZXJvLnJhbmdlICsgR2V0RGlzdGFuY2UobXlIZXJvLCBteUhlcm8ubWluQkJveCkNCmVuZA0KDQpmdW5jdGlvbiBHZXRDdXN0b21UYXJnZXQoKQ0KIAlUYXJnZXRTZWxlY3Rvcjp1cGRhdGUoKSAJDQoJaWYgX0cuTU1BX1RhcmdldCBhbmQgX0cuTU1BX1RhcmdldC50eXBlID09IG15SGVyby50eXBlIHRoZW4gcmV0dXJuIF9HLk1NQV9UYXJnZXQgZW5kDQoJaWYgX0cuQXV0b0NhcnJ5IGFuZCBfRy5BdXRvQ2FycnkuQ3Jvc3NoYWlyIGFuZCBfRy5BdXRvQ2FycnkuQXR0YWNrX0Nyb3NzaGFpciBhbmQgX0cuQXV0b0NhcnJ5LkF0dGFja19Dcm9zc2hhaXIudGFyZ2V0IGFuZCBfRy5BdXRvQ2FycnkuQXR0YWNrX0Nyb3NzaGFpci50YXJnZXQudHlwZSA9PSBteUhlcm8udHlwZSB0aGVuIHJldHVybiBfRy5BdXRvQ2FycnkuQXR0YWNrX0Nyb3NzaGFpci50YXJnZXQgZW5kDQoJcmV0dXJuIFRhcmdldFNlbGVjdG9yLnRhcmdldA0KZW5kDQoNCmZ1bmN0aW9uIEdlbk1vZGVsUGFja2V0KGNoYW1wLCBza2luSWQpDQoJcCA9IENMb0xQYWNrZXQoMHg5NykNCglwOkVuY29kZUYobXlIZXJvLm5ldHdvcmtJRCkNCglwLnBvcyA9IDENCgl0MSA9IHA6RGVjb2RlMSgpDQoJdDIgPSBwOkRlY29kZTEoKQ0KCXQzID0gcDpEZWNvZGUxKCkNCgl0NCA9IHA6RGVjb2RlMSgpDQoJcDpFbmNvZGUxKHQxKQ0KCXA6RW5jb2RlMSh0MikNCglwOkVuY29kZTEodDMpDQoJcDpFbmNvZGUxKGJpdDMyLmJhbmQodDQsMHhCKSkNCglwOkVuY29kZTEoMSkNCglwOkVuY29kZTQoc2tpbklkKQ0KCWZvciBpID0gMSwgI2NoYW1wIGRvDQoJCXA6RW5jb2RlMShzdHJpbmcuYnl0ZShjaGFtcDpzdWIoaSxpKSkpDQoJZW5kDQoJZm9yIGkgPSAjY2hhbXAgKyAxLCA2NCBkbw0KCQlwOkVuY29kZTEoMCkNCgllbmQNCglwOkhpZGUoKQ0KCVJlY3ZQYWNrZXQocCkNCmVuZA0KDQpmdW5jdGlvbiBDaG9vc2VTa2luKCkNCglpZiBTZXR0aW5ncy5taXNjLnNraW5MaXN0IH49IGxhc3RTa2luIHRoZW4NCgkJbGFzdFNraW4gPSBTZXR0aW5ncy5taXNjLnNraW5MaXN0DQoJCUdlbk1vZGVsUGFja2V0KCJBaHJpIiwgU2V0dGluZ3MubWlzYy5za2luTGlzdCkNCgllbmQNCmVuZA0KDQpmdW5jdGlvbiBHZXRCZXN0TGluZUZhcm1Qb3NpdGlvbihyYW5nZSwgd2lkdGgsIG9iamVjdHMpDQoJbG9jYWwgQmVzdFBvcyANCglsb2NhbCBCZXN0SGl0ID0gMA0KCWZvciBpLCBvYmplY3QgaW4gaXBhaXJzKG9iamVjdHMpIGRvDQoJCWxvY2FsIEVuZFBvcyA9IFZlY3RvcihteUhlcm8udmlzaW9uUG9zKSArIHJhbmdlICogKFZlY3RvcihvYmplY3QpIC0gVmVjdG9yKG15SGVyby52aXNpb25Qb3MpKTpub3JtYWxpemVkKCkNCgkJbG9jYWwgaGl0ID0gQ291bnRPYmplY3RzT25MaW5lU2VnbWVudChteUhlcm8udmlzaW9uUG9zLCBFbmRQb3MsIHdpZHRoLCBvYmplY3RzKQ0KCQlpZiBoaXQgPiBCZXN0SGl0IHRoZW4NCgkJCUJlc3RIaXQgPSBoaXQNCgkJCUJlc3RQb3MgPSBWZWN0b3Iob2JqZWN0KQ0KCQkJaWYgQmVzdEhpdCA9PSAjb2JqZWN0cyB0aGVuDQoJCQkgICBicmVhaw0KCQkJZW5kDQoJCSBlbmQNCgllbmQNCg0KCXJldHVybiBCZXN0UG9zLCBCZXN0SGl0DQplbmQNCg0KZnVuY3Rpb24gQ291bnRPYmplY3RzT25MaW5lU2VnbWVudChTdGFydFBvcywgRW5kUG9zLCB3aWR0aCwgb2JqZWN0cykNCglsb2NhbCBuID0gMA0KCWZvciBpLCBvYmplY3QgaW4gaXBhaXJzKG9iamVjdHMpIGRvDQoJCWxvY2FsIHBvaW50U2VnbWVudCwgcG9pbnRMaW5lLCBpc09uU2VnbWVudCA9IFZlY3RvclBvaW50UHJvamVjdGlvbk9uTGluZVNlZ21lbnQoU3RhcnRQb3MsIEVuZFBvcywgb2JqZWN0KQ0KCQlpZiBpc09uU2VnbWVudCBhbmQgR2V0RGlzdGFuY2VTcXIocG9pbnRTZWdtZW50LCBvYmplY3QpIDwgd2lkdGggKiB3aWR0aCB0aGVuDQoJCQluID0gbiArIDENCgkJZW5kDQoJZW5kDQoNCglyZXR1cm4gbg0KZW5kDQoNCmZ1bmN0aW9uIERyYXdDaXJjbGVOZXh0THZsKHgsIHksIHosIHJhZGl1cywgd2lkdGgsIGNvbG9yLCBjaG9yZGxlbmd0aCkNCiAgcmFkaXVzID0gcmFkaXVzIG9yIDMwMA0KICBxdWFsaXR5ID0gbWF0aC5tYXgoOCxyb3VuZCgxODAvbWF0aC5kZWcoKG1hdGguYXNpbigoY2hvcmRsZW5ndGgvKDIqcmFkaXVzKSkpKSkpKQ0KICBxdWFsaXR5ID0gMiAqIG1hdGgucGkgLyBxdWFsaXR5DQogIHJhZGl1cyA9IHJhZGl1cyouOTINCiAgDQogIGxvY2FsIHBvaW50cyA9IHt9DQogIGZvciB0aGV0YSA9IDAsIDIgKiBtYXRoLnBpICsgcXVhbGl0eSwgcXVhbGl0eSBkbw0KICAgIGxvY2FsIGMgPSBXb3JsZFRvU2NyZWVuKEQzRFhWRUNUT1IzKHggKyByYWRpdXMgKiBtYXRoLmNvcyh0aGV0YSksIHksIHogLSByYWRpdXMgKiBtYXRoLnNpbih0aGV0YSkpKQ0KICAgIHBvaW50c1sjcG9pbnRzICsgMV0gPSBEM0RYVkVDVE9SMihjLngsIGMueSkNCiAgZW5kDQogIA0KICBEcmF3TGluZXMyKHBvaW50cywgd2lkdGggb3IgMSwgY29sb3Igb3IgNDI5NDk2NzI5NSkNCmVuZA0KDQpmdW5jdGlvbiByb3VuZChudW0pIA0KICBpZiBudW0gPj0gMCB0aGVuIHJldHVybiBtYXRoLmZsb29yKG51bSsuNSkgZWxzZSByZXR1cm4gbWF0aC5jZWlsKG51bS0uNSkgZW5kDQplbmQNCg0KZnVuY3Rpb24gRHJhd0NpcmNsZTIoeCwgeSwgeiwgcmFkaXVzLCBjb2xvcikNCiAgbG9jYWwgdlBvczEgPSBWZWN0b3IoeCwgeSwgeikNCiAgbG9jYWwgdlBvczIgPSBWZWN0b3IoY2FtZXJhUG9zLngsIGNhbWVyYVBvcy55LCBjYW1lcmFQb3MueikNCiAgbG9jYWwgdFBvcyA9IHZQb3MxIC0gKHZQb3MxIC0gdlBvczIpOm5vcm1hbGl6ZWQoKSAqIHJhZGl1cw0KICBsb2NhbCBzUG9zID0gV29ybGRUb1NjcmVlbihEM0RYVkVDVE9SMyh0UG9zLngsIHRQb3MueSwgdFBvcy56KSkNCiAgDQogIGlmIE9uU2NyZWVuKHsgeCA9IHNQb3MueCwgeSA9IHNQb3MueSB9LCB7IHggPSBzUG9zLngsIHkgPSBzUG9zLnkgfSkgdGhlbg0KICAgIERyYXdDaXJjbGVOZXh0THZsKHgsIHksIHosIHJhZGl1cywgU2V0dGluZ3MuZHJhd2luZy5sZmMuV2lkdGgsIGNvbG9yLCBTZXR0aW5ncy5kcmF3aW5nLmxmYy5DTCkgDQogIGVuZA0KZW5kDQoNCmZ1bmN0aW9uIEdhbWVvdmVyKCkNCglpZiBHZXRHYW1lKCkuaXNPdmVyIHRoZW4NCgkJVXBkYXRlV2ViKGZhbHNlLCBTY3JpcHROYW1lLCBpZCwgSFdJRCkNCgkJc3RhcnRVcCA9IGZhbHNlOw0KCWVuZA0KZW5k"), nil, "bt", _ENV))()
